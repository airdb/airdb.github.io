import{T as b,s as o}from"./router.BGlnZ8O3.js";const f="vtbot-replace-swap",v=()=>(document.querySelector(`meta[name="${f}"]`)?.getAttribute("content")??"").split(",").map(t=>t.trim());document.addEventListener(b,t=>{const m=t.swap;t.swap=()=>{const l=e=>{const s=e.body.querySelectorAll("[data-vtbot-replace]"),a=[...s].map(n=>n instanceof HTMLElement&&n.dataset.vtbotReplace);return{elements:[...s],names:new Set(a)}},{elements:d,names:u}=l(document),{elements:p,names:i}=l(t.newDocument),r=[...u].filter(e=>i.has(e));if(r.length===0){m();return}const c=t.newDocument;o.deselectScripts(c);const E=v().map(e=>({key:e,val:document.documentElement.getAttribute(e)}));o.swapRootAttributes(c),E.forEach(e=>e.val!==null&&document.documentElement.setAttribute(e.key,e.val)),o.swapHeadElements(c);const w=o.saveFocus();r.forEach(e=>{const s=d.find(n=>n.dataset.vtbotReplace===e),a=p.find(n=>n.dataset.vtbotReplace===e);s&&a&&o.swapBodyElement(a,s)}),w(),[...document.querySelectorAll("[class*='astro-route-announcer']")].forEach(e=>e.remove())}});
